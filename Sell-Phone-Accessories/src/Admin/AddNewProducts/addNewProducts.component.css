:host {
  --radius: 18px;
  --line: #e5e7eb;
  --muted: #6b7280;
  --shadow: 0 8px 24px rgba(0,0,0,.06);
  display: block;
  padding: 16px;
}

/* Top bar */
.topbar{
  display:flex; align-items:center; gap:12px;
  margin-bottom: 12px;
}
.topbar .title{flex:1}
.topbar h2{margin:0}
.topbar small{color:var(--muted)}
.topbar .actions{display:flex; gap:8px}

/* Layout */
.grid{
  width:min(1200px, 100%);
  margin-inline:auto;
  display:grid;
  grid-template-columns: 340px 360px 1fr;
  gap:16px;
}
@media (max-width: 1100px){
  .grid{grid-template-columns: 1fr}
}

/* Card */
.card{
  border:1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 12px;
}
.card .card-title{
  display:flex; align-items:center; gap:8px; font-weight:700; margin-bottom: 12px;
}
.card .card-title .spacer{flex:1}
.card .status{
  margin-left:auto;
  font-size:12px; padding:4px 8px; border-radius:999px;
  background:#f3f4f6; border:1px solid #e5e7eb;
}

.muted{color:var(--muted)}

/* Gallery */
.left-col .gallery{ padding: 12px; }
.cover{
  position:relative;
  border-radius:12px;
  overflow:hidden; aspect-ratio: 1 / 1;
  background:#f5f5f5; display:grid; place-items:center;
  border:1px dashed #e5e7eb;
}
.cover img{width:100%; height:100%; object-fit:cover}
.cover .badge{
  position:absolute; left:12px; bottom:12px;
  background:#111827; color:#fff; font-size:12px;
  padding:3px 8px; border-radius:999px;
}

.empty{
  display:grid; place-items:center; aspect-ratio: 1/1;
  color:#64748b; gap:6px;
}
.empty mat-icon{font-size:32px; width:32px; height:32px}

.thumbs{
  margin-top: 10px;
  display:grid; grid-template-columns: repeat(4, 1fr);
  gap:10px;
}
.thumb{
  position:relative;
  display:grid; place-items:center;
  aspect-ratio:1/1; border-radius:12px; overflow:hidden;
  border:1px solid var(--line);
  background:#fafafa; cursor:pointer;
}
.thumb.active{outline:2px solid #3b82f6}
.thumb img{width:100%; height:100%; object-fit:cover}
.thumb .thumb-actions{
  position:absolute; top:4px; right:4px;
  background:rgba(255,255,255,.9); border-radius:8px;
}
.add-tile{
  border:2px dashed #cbd5e1;
  color:#64748b; gap:6px; font-weight:600;
  display:grid; place-items:center;
}
.add-tile mat-icon{font-size:24px; height:24px; width:24px}
.add-tile input{display:none}

/* mid col list avatars */
.mat-mdc-list-item .mdc-list-item__start{border-radius:8px; overflow:hidden}

/* details form grid */
.form-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 16px;
}
.form-grid .col-span-2{grid-column: span 2}
@media (max-width: 700px){
  .form-grid{grid-template-columns: 1fr}
  .form-grid .col-span-2{grid-column: auto}
}

/* Colors UI */
.color-field label{display:block; font-weight:600; margin-bottom:6px}
.color-palette{display:flex; flex-wrap:wrap; gap:8px; align-items:center}
.swatch{
  --size: 32px;
  width: var(--size); height: var(--size);
  border-radius: 10px; border:1px solid #d1d5db; background: var(--c);
  display:grid; place-items:center; cursor:pointer; position:relative;
}
.swatch.selected{outline:2px solid #111827}
.swatch mat-icon{font-size:18px; height:18px; width:18px; color:#fff}
.swatch.add{
  background:transparent; border:2px dashed #cbd5e1;
}
.swatch.add input{opacity:0; position:absolute; inset:0; cursor:pointer}
.chosen{margin-top:8px}
.chosen .dot{
  display:inline-block; width:12px; height:12px; border-radius:50%;
  margin-right:6px; border:1px solid #d1d5db;
}

/* ===== Pills cho form-field (bo tròn kiểu Google) ===== */
:host { --field-h: 52px; }

.mat-mdc-form-field.pill .mat-mdc-form-field-flex {
  height: var(--field-h);
  align-items: center;
}

.mat-mdc-form-field.pill .mat-mdc-form-field-infix {
  padding: 0 16px !important;
}



/* nhã nhặn hơn cho label */
.mat-mdc-form-field.pill .mdc-floating-label {
  padding-left: 2px;
}

/* ===== Nhóm input + đơn vị (%) ===== */
.inline-unit {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  align-items: center;
}

.unit-pill {
  height: var(--field-h);
  min-width: 52px;
  display: grid;
  place-items: center;
  padding: 0 14px;
  border: 1px solid var(--line);
  border-radius: 9999px;
  font-weight: 600;
  background: #fff;
  box-shadow: var(--shadow);
}


:host ::ng-deep .mat-mdc-form-field.pill {
  --mdc-outlined-text-field-container-shape: 99px; /* bo tròn kiểu pill */
  --mdc-outlined-text-field-outline-color: #e5e7eb;
  --mdc-outlined-text-field-focus-outline-color: #3b82f6;
}

/* đảm bảo form-field nằm gọn trong cột */
.form-grid > .mat-mdc-form-field,
.form-grid > .inline-unit,
.form-grid > .color-field { width: 100%; }



/* Đặt label ra ngoài, canh khoảng cách */
.form-grid > * { min-width: 0; }              /* để item co đúng trong grid */
.field { display: flex; flex-direction: column; gap: 6px; }
.field-label { font-weight: 600; color: #111827; }
.field-label .req { color: #ef4444; margin-left: 2px; }

/* Nếu muốn tất cả field rộng bằng cột */
.form-grid > .field .mat-mdc-form-field { width: 100%; }

/* PILL bạn đã có – giữ lại: 
   --mdc-outlined-text-field-container-shape: 9999px; ... 
   (đừng đặt border-radius cho __leading/__trailing/__notch) */

   /* === Segmented Tabs (General / Advanced) === */
/* Nếu để trong CSS component, giữ prefix :host ::ng-deep; nếu để styles.scss, bỏ phần :host ::ng-deep */
:host ::ng-deep .seg-tabs .mat-mdc-tab-header {
  border: 1px solid #111212;         /* viền ngoài */
  border-radius: 9999px;              /* bo tròn cả cụm */
  background: #f7f8fb;               /* nền nhạt */
  padding: 4px;                       /* tạo khoảng đệm cho “viên” bên trong */
  margin-bottom: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
  border-bottom: none;                /* bỏ gạch chân mặc định */
}

/* Ẩn ink-bar/indicator mặc định */
:host ::ng-deep .seg-tabs .mat-mdc-tab-header .mdc-tab-indicator { display: none !important; }
:host ::ng-deep .seg-tabs .mat-mdc-tab-header .mat-mdc-tab-label-container { border-bottom: none; }

/* Trải đều 2 tab, tạo khoảng cách giữa chúng */
:host ::ng-deep .seg-tabs .mat-mdc-tab-list .mdc-tab-bar {
  display: flex;
  gap: 6px;                           /* khe giữa 2 “viên” */
  width: 100%;
}
:host ::ng-deep .seg-tabs .mat-mdc-tab-list .mdc-tab {
  flex: 1 1 0;                        /* mỗi tab chiếm 1/2 */
  min-width: 0;
  height: 42px;                       /* chiều cao “viên” */
             /* bo tròn từng viên */
  background:white;
}

/* Nội dung label căn giữa, font đậm */
:host ::ng-deep .seg-tabs .mdc-tab__content { justify-content: center; }
:host ::ng-deep .seg-tabs .mdc-tab__text-label {
  font-weight: 700;
  color: #374151;
}

/* Tab đang chọn: nền trắng + bóng nhẹ */
:host ::ng-deep .seg-tabs .mdc-tab--active {
  background: #fff;
  box-shadow: 0 1px 2px rgba(15,23,42,.06), 0 6px 16px rgba(15,23,42,.04);
}
:host ::ng-deep .seg-tabs .mdc-tab--active .mdc-tab__text-label { color: #111827; }

/* Phòng trường hợp container của header không đủ rộng (trên mobile) */
:host ::ng-deep .seg-tabs .mat-mdc-tab-header .mat-mdc-tab-label-container,
:host ::ng-deep .seg-tabs .mat-mdc-tab-header .mat-mdc-tab-list {
  width: 100%;
}

/* Nếu dùng trong lưới 2 cột của bạn, đảm bảo không tràn cột */
.form-grid > * { min-width: 0; }


/* Cho item trong grid được co đúng */
.form-grid > * { min-width: 0; }

/* ✅ Bắt mọi mat-form-field trong grid giãn full cột */
.form-grid .mat-mdc-form-field {
  display: block;
  width: 100%;
}

/* Trường hợp nhóm Discount có % ở cạnh */
.inline-unit .mat-mdc-form-field { width: 100%; }

/* ✅ Đảm bảo vùng hiển thị của select không bị bóp */
:host ::ng-deep .mat-mdc-form-field .mat-mdc-form-field-infix {
  min-width: 0;            /* cho phép co trong grid */
  flex: 1 1 auto;          /* chiếm hết phần còn lại */
}
:host ::ng-deep .mat-mdc-select-value {
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
